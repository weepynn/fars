---
title: "fars_vignette"
author: "Lim Wee Pynn"
date: "r Sys.Date()"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{fars_vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

This package reads and plots Fatality Analysis Reporting System (FARS) data from the National Highway Traffic Safety Administration.

## Load Packages

```{r eval=FALSE}
library(fars)
library(maps)
library(dplyr)
setwd(system.file("extdata", package = "fars"))
```

## Package Functions

### Function ```fars_read```

Function reads in data from a csv file. It takes in a character string of a path of a filename to read into R.

Usage Example:
```{r eval=FALSE}
fars_read(2015) 
```

### Function ```make_filename```

Function takes in a specific 'year', creates and returns a filename specifying the year of the dataset. The filename includes the 
the \code{bz2} extension for importing zipped files. For example, if the year specified is \code{2011}, the filename will be \code{accident_2011.csv.bz2}. 

Usage Example:
```{r eval=FALSE}
make_filename(2015)
```


### Function ```fars_read_years```

Function takes in a vector of 'years' specified and returns a list of dataframes of 'YEAR' and 'MONTH' columns. 

Usage Example:
```{r eval=FALSE}
far_read_years(c(2011, 2012))
```

### Function ```fars_summarize_years```

Function combines all the dataframes obtained from the \code{fars_read_years} function into one single dataframe, groups the data into each specific 'year' and 'month', summarises by counting the number of data points for each group, transforms and returns the table from the long to wide format according to the 'year' and number of counts for each group variables.

Usage Example:
```{r eval=FALSE}
fars_summarize_years(2013:2015)
```


### Function ```fars_map_state```

Function takes in two numbers specifying a specific state and year and plots the location of accidents according to latitude and longtitude on a state map.

Usage Example:
```{r eval=FALSE}
fars_map_state(45, 2015)
```
